<팀 커널 브리핑>
 (1) What are lung opacities
  - https://www.kaggle.com/zahaviguy/what-are-lung-opacities
  - 멤버 : 희원, 현아, 현수

 (2) Exploratory Data Analysis
  - https://www.kaggle.com/peterchang77/exploratory-data-analysis
  - 멤버 : 지혜, 기원
  - 내용 :

1. 프로젝트 설명
 - 이 프로젝트는 흉부 방사선 사진(2D 회색조 의료 사진)에서 폐렴 진단에 필요한 경계 부근(네모 박스)를 발결하는 것이 목표이다.
   폐렴은 흉부 엑스레이 사진에서 발생할 수 있는 여러 질병 중 하나이고, 
   이미지 결과 값에 폐렴 위치에 해당하는 곳에 0개, 1개 혹은 많인 박스가 나타나게 되면서 확인할 수 잇다.


2. 데이터
 (1) 데이터 로드
  - 데이터는 여러 파일과 폴더로 구성되는데, 캐글 커널에서 이용하는 경우 ../input 디렉토리에 사전 로드 되어 있다.

 (2) 이 데이터 폴더의 주요 항목
  1) stage_1_train_labels.csv : 바운딩 상자를 포함하는 교육용 트레이닝 세트
  2) stage_1_detail_class_info.csv : 자세한 라벨이 포함된 CSV 파일
  3) stage_1_train_images : 트레이닝 세트의 로우 이미지가 들어 있는 파일
  - CSV 파일의 각 행에는 환자아이디(고유한 값), 폐렴여부(1 or 0), 비정상적인 경계상자의 좌표(x,y)와 폭 높이가 있다. 
폐렴이 없으면 NaN으로 표시된다. 또한, 폐렴환자는 여러 바운딩 박스를 가질 수 있다.
  - 환자의 ID에서 폐렴이 두 개 이상 감지될 경우 여러 개의 상자가 나타날 수 있다.


3. DICOM 파일 및 의료 이미지
 (1) DICOM 파일 및 의료 이미지
  - 의료 영상은 DICOM 파일(*.dcm) 이라고 하는 특수 형식으로 저장된다.
  - 여기에는 헤더 메타데이터와 픽셀 데이터의 로우 이미지가 함께 들어 있다.

 (2) DICOM 파일 및 의료 이미지 이용
  - Python에서는, DICOM 파일에 접근하고 조작하는데 pydicom 라이브러리를 이용한다.
  - pydicom 라이브러리를 사용하려면 먼저 stage_1_train_images/folder에서 원하는 파일을 찾고,
    pydicom.read_file()을 사용하여 데이터를 로드하면 된다.
  - 픽셀 배열은 Numpy 배열로 저장된다. Numpy 배열은 행렬 데이터를 처리하고 조작하기 위한 강력한 숫자 파이썬 라이브러리이다. 

 (3) 원본 방사선 사진 사전 처리 작업
  1) The relatively high dynamic range 높은 비트-depth 원본이미지는 8비트 인코딩으로 재조정되었다. 
특정 질병을 강조하기 위해 방사선 의사가 수동으로 조정한다. 
  2) 상대적으로 큰 원본 이미지는 1024*1024 사이즈로 조정되었다. 
이 과제의 목절을 위해, 대부분의 폐렴 진단은 이 해상도로 수행할 수 있다. 
폐렴 검출을 위한 최적의 해상도(더 낮은 해상도로도 검출 가능)를 결정하고 시각적으로 평가하기 위해서는 전문가와 상의해야 한다.

 (4) DICOM 시각화
  - DICOM 이미지를 보려면 pylab.imshow()를 이용하면 된다.


4. 데이터 및 라벨의 탐색
 (1) 데이터 및 라벨의 탐색
  - 앞에서 살펴 봤듯이, 폐렴이 의심스러운 영역이 있을 경우, 결과 값에는 많은 박스가 포함 된다.

 (2) 방법
  *현재 CSV 파일 데이터 프레임을 고유한 항목이 있는 사전으로 축소하려면 다음 방법을 고려하면 된다.
  - 또한 이 방법을 이용하면 된다.

 (3) 실습 1
  - 앞에서 본 바와 같이, 00436515-870c-4b36-a041-d91049b9ab4는 pnuemonia를 가지고 있으므로, 
바운딩 박스를 가진 환자인지 확인하도록 하겠다.
  - 원본 회색 음영 DICOM 파일에 색상 상자를 오버레이하려면 다음 방법을 사용하면 된다.
(아래의 main 메소드 draw ()는 overlay_box () 메소드가 필요하다.)

 (4) Detail한 라벨 탐색
  - 이 대회에서 주요 포인트는 폐렴의 유무와 같은 이진 binary classification의 탐지이다.
단, binary classification의 분류 외에도 폐렴에 박스가 뜨지 않는 것들은 정상 혹은 무폐로 분류가 된다.
또한, 폐렴이 존재하지 않는 것으로 판명된 것 중에 '이미지 자체에 문제가 있는 경우'도 있다.
이런 경우에는 종종 폐렴과 혼돈될 수 있다.
따라서 이러한 것들을 위해, 알고리즘의 정확성을 향상시키기 위해 보충 정보가 제공 된다.
(하지만 이 클래스가 이 챌린지에서 평가를 위해 사용되는 공식 매트릭스는 아니다.)

 (5) 실습 2
  - 위와 같이, 우리는 CSV 파일의 첫 번째 환자가 폐렴을 가지지 않았다는 것을 알았다.
이 환자에 대한 자세한 라벨 정보를 살펴보도록 하겠다.
표시된 이미지는 아주 작지만, 방사선 전문의로서 보면 환자는 왼쪽 폐에 결절 밀도를 가지고 있다.
또한 오른쪽 폐에 체액 축적(흉곽 유출)을 배수하기 위해 큰 흉곽 튜브를 가지고 있으며, 이는 패치 집적도를 나타낼 수 있다.
살펴본 바와 같이, 이미지에는 여러 이상이 있었다. 하지만 이러한 이상이 '폐렴과 관련 없다'는 것은 의사들 사이에서도
주관적인 의견이므로, 확언할 수 없다.
따라서 제공된 데이터 세트로는 100%의 알고리즘을 만들 수 없다. 방사선 전문의와 상의하여 최적의 전략을 만드는 것이 좋다.

 (6) 마지막으로
  - 데이터 세트의 라벨 분포를 자세히 살펴보자. 먼저 디테일한 라벨 정보를 분석해야 한다.
    보다 시피, 세 가지 클래스 사이에는 상대적으로 균일한 분할이 있으며, 데이터의 거의 2/3가 폐렴 없이 구성되어 있다.
    질병의 확산률이 매우 낮은 대부분의 의료 영상 데이터 세트와 비교하여 this dataset has been significantly enriched with pathology.(의료기술이 발전했다.??)
    데이터 구조, 이미징 파일 형식 및 라벨 유형을 이해했으니 이제 알고리즘을 만들 때이다! 기본적으로 목표는 경계 상자의 탐지이므로 object localization algorithms을 고려할 수 있다.
    **An alternative strategy is to consider the related family of segmentation algorithms with the acknowledgement that bounding boxes will only be a coarse approximation to true pixel-by-pixel image segmentation masks.**